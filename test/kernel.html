<!doctype html>
<html lang="en">
<head>
	
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Sage</title>
	                                 
</head>
<body>

	<script src="../lib/underscore-min.js"></script>
  <script src="../lib/taffy-min.js"></script>
	<script src="../lib/hotload.js"></script>


	<script>
 	 	goog.hotloadVersion("1");
		goog.hotloadPrefix("../src/");	
	</script>
  <script>goog.require("sage.sage");</script>
    
  <script>
  
  	sage.initialize();
  
		sage.component("Position", {
			
			startup: function PositionComponent_Startup(config) {
				
				this.x = (config.x !== undefined) ? config.x : 0;				
				this.z = (config.z !== undefined) ? config.z : 0;
			}
		
		});
  	
		sage.component("WalkRandomly", {
			
			startup: function WalkRandomlyComponent_Startup(config) {
				
				this.require("Position", config);
			},
			
			update: function WalkRandomlyComponent_Update() {
				
				this.x += Math.random();				
				this.z += Math.random();				
				console.log(this.x + "," + this.z);
			}
		
		});
		
		sage.component("Talk", {
			
			startup: function() {
				
				console.log("talk-startup");
			},
			
			update: function() {
				
				console.log("talk-update");
			}
			
		});
		
		/*
		var personA = sage.entity().include("WalkRandomly", { x:50, z:50 });
		var personB = personA.clone({ WalkRandomly: { x:100, z:100 } });
		var personC = personA.clone({ WalkRandomly: { x:150, z:150 } });
		*/
		
		sage.entity().include("Talk");
		sage.kernel.start();
		
  </script>
  
  
</body>
</html>
